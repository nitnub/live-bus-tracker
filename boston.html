<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Add a default marker</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles/style.css" />
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <div class="container">
        <div class="project-name">Boston Bus Stop Tracker</div>

        <div class="nav"><a href="index.html">Go to Seattle</a></div>
      </div>
    </div>

    <!-- Main view container -->
    <div class="container">
      <div class="route-controls">
        <button class="btn-main" onclick="move()">
          Show stops between MIT and Harvard
        </button>

        <p>This map allows you to view a dynamic marker that jumps from stop to stop between MIT and Harvard.</p>
        <p>Click "Go to Seattle" at the top of the page to view a map with multiple bus and streetcar lines</p>
      </div>

      <div id="boston-map"></div>
    </div>

    <div class="map-overlay top">
    
    </div>

    <script>
      mapboxgl.accessToken =
        'pk.eyJ1IjoibmJtYXBwZXIiLCJhIjoiY2w0ZmFra3NvMDFmaTNpbXl2eHFraHM0eCJ9.bbJV8O8l1K3p9-c-FShsUw';
      // this function creates a new map with a certain sto of properties as defined in the object parameter
      const bostonMap = new mapboxgl.Map({
        container: 'boston-map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-71.104081, 42.365554],
        zoom: 14,
      });

      const bostonMarker = new mapboxgl.Marker()
        .setLngLat([-71.092761, 42.357575])
        .addTo(bostonMap);

      // an array of several bus stops
      const bostonBusStops = [
        [-71.093729, 42.359244],
        [-71.094915, 42.360175],
        [-71.0958, 42.360698],
        [-71.099558, 42.362953],
        [-71.103476, 42.365248],
        [-71.106067, 42.366806],
        [-71.108717, 42.368355],
        [-71.110799, 42.369192],
        [-71.113095, 42.370218],
        [-71.115476, 42.372085],
        [-71.117585, 42.373016],
        [-71.118625, 42.374863],
      ];

      let counter = 0;
      function move() {
        setInterval(() => {
          if (counter >= bostonBusStops.length) return;
          bostonMarker.setLngLat(bostonBusStops[counter]);
          counter++;
        }, 1000);
      }
    </script>

  </body>
</html>
